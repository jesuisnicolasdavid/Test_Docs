

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Optin Video &mdash; Ogury Documentation 0.4.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Ogury Documentation 0.4.0 documentation" href="index.html"/>
        <link rel="next" title="Interstitials" href="interstitial.html"/>
        <link rel="prev" title="PhoneGap / Ionic / Cordova" href="ionic-phonegap-cordova.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started-with-sdk-integration.html">Getting Started With the Ogury Android SDK</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Optin Video</a></li>
<li class="toctree-l1"><a class="reference internal" href="interstitial.html">Interstitials</a></li>
<li class="toctree-l1"><a class="reference internal" href="ad-settings.html">Ad Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="mediation.html">Mediations</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration-checklists.html">Integration Checklists</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact-support.html">Contact Support</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ogury Documentation</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Optin Video</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="optin-video">
<span id="id1"></span><h1>Optin Video<a class="headerlink" href="#optin-video" title="Permalink to this headline">¶</a></h1>
<div class="section" id="before-you-start">
<h2>1. Before You Start<a class="headerlink" href="#before-you-start" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Make sure you have correctly integrated the Ogury SDK into your application. Integration is outlined here.</li>
<li>If you want to display Ogury OptinVideo ads format through a mediation, you can go on this page to have some help.</li>
</ul>
</div>
</div>
<div class="section" id="placement">
<h2>2. Placement<a class="headerlink" href="#placement" title="Permalink to this headline">¶</a></h2>
<p>Placement can be used for separating your revenue by placement in our dashboard and determining which placement earns you more money. Also you can configure your impression logic for each placement in the placement dashboard on admin.
In order to use placement within your app, variable in source like &lt;AD_UNIT_ID&gt; must be replaced with your information. Ad Unit ID can be created and managed on Ogury admin. For more informations on Ogury Ad Units you can go on the <a class="reference internal" href="ad-settings.html#ad-placements"><span class="std std-ref">Ad Placements</span></a> page.
If you want to use placement features, integrate you AD Unit ID within your placement object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<blockquote>
<div>Ogury optin video are a special ad unit that requires to be configured on Ogury’s admin. If you have no ad unit id, you will not be able to display an Optin Video ad unit. You must configure an optin video placement on Ogury admin and integrate this ad unit ID into the optin video object you are going to create.</div></blockquote>
<p class="last">First, import Presage and declare a <cite>Presage</cite> instance variable:</p>
</div>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">io.presage.Presage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.presage.ads.PresageOptinVideo</span><span class="o">;</span>

<span class="n">PresageOptinVideo</span> <span class="n">placementOptin</span><span class="o">;</span>
</pre></div>
</td></tr></table></div>
<p><cite>Presage</cite> provides a listener interface, <cite>PresageOptinVideoCallback</cite>, which you’ll use to stay informed about ad lifecycle events. Make sure your <cite>Activity</cite> implements the <cite>PresageInterstitialCallback</cite> interface. In your <cite>Activity</cite>’s <cite>onCreate()</cite> method, instantiate the <cite>Presage</cite> using the context and the Ad Unit ID you created on Ogury Admin.</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">private</span> <span class="n">PresageOptinVideo</span><span class="o">.</span><span class="na">PresageOptinVideoCallback</span> <span class="n">presageOptinVideoCallback</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PresageOptinVideo</span><span class="o">.</span><span class="na">PresageOptinVideoCallback</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAdAvailable</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">appendLog</span><span class="o">(</span><span class="s">&quot;Ad Available&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAdNotAvailable</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">appendLog</span><span class="o">(</span><span class="s">&quot;Ad Not Available&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAdLoaded</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">appendLog</span><span class="o">(</span><span class="s">&quot;Ad Loaded&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAdClosed</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">appendLog</span><span class="o">(</span><span class="s">&quot;Ad Closed&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAdError</span><span class="o">(</span><span class="kt">int</span> <span class="n">code</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">appendLog</span><span class="o">(</span><span class="s">&quot;Ad Error&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAdDisplayed</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">appendLog</span><span class="o">(</span><span class="s">&quot;Ad Displayed&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAdRewarded</span><span class="o">()</span> <span class="o">{</span> <span class="n">appendLog</span><span class="o">(</span><span class="s">&quot;Rewarded +7&quot;</span><span class="o">);</span> <span class="o">}</span>
<span class="o">};</span>
</pre></div>
</td></tr></table></div>
<p>Next, you can create your placement object with your Ad Unit ID coming from Ogury admin :</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">placementOptin</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PresageOptinVideo</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">&quot;AD_UNIT_ID&quot;</span><span class="o">);</span>
</pre></div>
</td></tr></table></div>
<p>Then you can link callbacks with this placement object :</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">placementOptin</span><span class="o">.</span><span class="na">setPresageOptinVideoCallback</span><span class="o">(</span><span class="n">presageOptinVideoCallback</span><span class="o">);</span>
</pre></div>
</td></tr></table></div>
<p>Great! Now you are ready to display an ad.</p>
<p>The Ogury SDK provides a custom class, <cite>Presage</cite>, that handles several ways to show fullscreen Optin video ad within a placement :</p>
<ol class="arabic simple">
<li>adToServe(): the ad is loaded and directly shown after the function call (best for splashscreen)</li>
<li>load(), canShow(), show(): it will preload ads locally and show them when asked (best for user experience)</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The setContext() and the start() function explained in <a class="reference internal" href="quickstart-integration.html#step3"><span class="std std-ref">Step 3 - Initialize the SDK</span></a> have to be called before using one of those methods.</p>
</div>
</div>
<div class="section" id="create-and-display-an-optin-video-ad-with-precaching">
<h2>3. Create and display an optin video ad with precaching<a class="headerlink" href="#create-and-display-an-optin-video-ad-with-precaching" title="Permalink to this headline">¶</a></h2>
<p>To ensure a smooth experience, you should pre-cache the content as soon as your <cite>Activity</cite> is created, then display it if the precaching was successful.
In the <cite>Activity</cite> in which you want to show the Optin video,</p>
<p>Displaying the ad with precaching takes four steps:</p>
<ol class="arabic simple">
<li>In your <cite>onCreate()</cite> method, call <cite>load()</cite> to begin precaching the ad. It’s important to precache Optin video ad content well before you plan to show it, since it often incorporates rich media and may take some time to load. We suggest precaching when your <cite>Activity</cite> is first created, but you may also choose to do it based on events in your app, like at the beginning of a game level.</li>
<li>When you’re ready to display your ad, use <cite>placement.canShow()</cite> to check whether the Optin video was successfully precached.</li>
<li>If <cite>canShow()</cite> returns true, display the Optin video by calling the <cite>show()</cite> method.</li>
<li>Lastly, remember to call <cite>destroy()</cite> on the Optin video in your <cite>Activity</cite>’s <cite>onDestroy</cite> method. Your completed <cite>Activity</cite> code should look something like this:</li>
</ol>
<div class="section" id="load">
<h3>3.1. Load()<a class="headerlink" href="#load" title="Permalink to this headline">¶</a></h3>
<p>This function must be called just after the start of the application. It will preload ads locally.
You can let decided the SDK how many ads to precache or to pass it as a parameter.</p>
<p>You can’t ask for more than 3 ads to precache.
The number of load calls is limited to 3 in 3 minutes.</p>
<p>Load function answer with IADHandler callbacks. onAdLoaded can be used to then call canShow and show functions.</p>
<p>Import the following :</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">placementOptin</span><span class="o">.</span><span class="na">load</span><span class="o">();</span>
</pre></div>
</td></tr></table></div>
<p>or ask for x ads :</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">placementOptin</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="canshow-and-show">
<h3>3.2. canShow() and show()<a class="headerlink" href="#canshow-and-show" title="Permalink to this headline">¶</a></h3>
<p>Those two functions can be called when you want to show an ad.</p>
<p>canShow()
return a boolean
It verify if ads are preloaded locally, if Internet is available and if the ads are still valid</p>
<p>Show calls are limited to one each 10 seconds.</p>
<p>Import the following :</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span><span class="o">(</span><span class="n">placementOptin</span><span class="o">.</span><span class="na">canShow</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">placementOptin</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="create-and-display-an-optin-video-ad-without-precaching">
<h2>4. Create and display an optin video ad without precaching<a class="headerlink" href="#create-and-display-an-optin-video-ad-without-precaching" title="Permalink to this headline">¶</a></h2>
<p>adToServe(): the ad is loaded and directly shown after the function call</p>
<p>This process is really useful if you want to display ads on splashscreen / launch of the app.</p>
<p>Import the following :</p>
<div class="highlight-java"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">placementOptin</span><span class="o">.</span><span class="na">adToServe</span><span class="o">();</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="client-side-callback-server-to-server-callback">
<h2>5. Client Side callback &amp; Server to Server callback<a class="headerlink" href="#client-side-callback-server-to-server-callback" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="interstitial.html" class="btn btn-neutral float-right" title="Interstitials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ionic-phonegap-cordova.html" class="btn btn-neutral" title="PhoneGap / Ionic / Cordova" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Ogury.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.4.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>